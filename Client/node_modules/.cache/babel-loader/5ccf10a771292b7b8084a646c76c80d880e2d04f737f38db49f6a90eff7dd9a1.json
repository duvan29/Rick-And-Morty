{"ast":null,"code":"import _slicedToArray from\"/home/debian/Escritorio/SoyHenry/M2/rick_and_morty/rick_and_morty/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import style from\"./Card.module.css\";import{Link}from\"react-router-dom\";import{addFav,removeFav}from'../../redux/Actions/actions';import{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSquareXmark,faHeart,faBarcode}from'@fortawesome/free-solid-svg-icons';import{useDispatch,useSelector}from\"react-redux\";//import {connect} from \"react-redux\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(props){var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFav=_useState2[0],setIsfav=_useState2[1];var dispatch=useDispatch();var myFavorites=useSelector(function(state){return state.myFavorites;});var handleFavorite=function handleFavorite(){if(isFav){setIsfav(false);dispatch(removeFav(props.id));}else{setIsfav(true);dispatch(addFav(props));}};useEffect(function(){myFavorites.forEach(function(fav){if(fav.id===props.id){setIsfav(true);}});},[myFavorites]);return/*#__PURE__*/_jsxs(\"div\",{className:style.containerCard,children:[pathname!==\"/favorites\"?/*#__PURE__*/_jsx(\"div\",{className:style.btnClose,onClick:function onClick(){return props.onClose();},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquareXmark})}):/*#__PURE__*/_jsx(\"div\",{className:style.btnCloseFav,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquareXmark})}),isFav?/*#__PURE__*/_jsx(\"div\",{className:style.btnFavoritesOn,onClick:handleFavorite,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeart,beat:true})}):/*#__PURE__*/_jsx(\"div\",{className:style.btnFavoritesOff,onClick:handleFavorite,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeart})}),/*#__PURE__*/_jsx(\"h2\",{className:style.cardId,children:props.id}),/*#__PURE__*/_jsx(\"img\",{src:props.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:props.name}),/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(props.id),state:{background:pathname},children:/*#__PURE__*/_jsx(\"div\",{className:style.cardLink,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBarcode})})})]});}/*export function mapDispatchToProps(dispatch) {\n   return {\n      addFav: (personaje) => dispatch(addFav(personaje)),\n      removeFav: (id) => dispatch(removeFav(id))\n   }\n}\n\nexport function mapStateToProps(state) {\n   return {\n      myFavorites: state.myFavorites,\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Card);*/","map":{"version":3,"names":["style","Link","addFav","removeFav","useState","useEffect","useLocation","FontAwesomeIcon","faSquareXmark","faHeart","faBarcode","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","Card","props","_useLocation","pathname","_useState","_useState2","_slicedToArray","isFav","setIsfav","dispatch","myFavorites","state","handleFavorite","id","forEach","fav","className","containerCard","children","btnClose","onClick","onClose","icon","btnCloseFav","btnFavoritesOn","beat","btnFavoritesOff","cardId","src","image","alt","name","to","concat","background","cardLink"],"sources":["/home/debian/Escritorio/SoyHenry/M2/rick_and_morty/rick_and_morty/Client/src/components/Card/Card.jsx"],"sourcesContent":["import style from \"./Card.module.css\";\nimport { Link } from \"react-router-dom\";\nimport {addFav, removeFav} from '../../redux/Actions/actions';\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSquareXmark, faHeart, faBarcode } from '@fortawesome/free-solid-svg-icons';\nimport { useDispatch, useSelector } from \"react-redux\";\n//import {connect} from \"react-redux\";\n\n\nexport default function Card(props) {\n\nconst {pathname} = useLocation();\nconst [isFav, setIsfav] = useState(false);\n\nconst dispatch = useDispatch();\nconst myFavorites = useSelector(state => state.myFavorites);\n\nconst handleFavorite = () => {\n   if (isFav) {\n      setIsfav(false);\n      dispatch(removeFav(props.id));\n   } else {\n      setIsfav(true);\n      dispatch(addFav(props));\n   }\n};\n\nuseEffect(() => {\n    myFavorites.forEach((fav) => {\n      if (fav.id === props.id) {\n         setIsfav(true);\n      }\n   });\n}, [myFavorites]);\n\n   return (\n      <div className = {style.containerCard}>\n         \n         { (pathname !== \"/favorites\") ? (<div className = {style.btnClose}  onClick={() => props.onClose() }><FontAwesomeIcon icon={faSquareXmark} /></div>) : (<div className = {style.btnCloseFav} ><FontAwesomeIcon icon={faSquareXmark} /></div>) }\n         {(isFav)? ( <div className = {style.btnFavoritesOn} onClick={handleFavorite}><FontAwesomeIcon icon={faHeart} beat /></div>) : (<div className = {style.btnFavoritesOff} onClick={handleFavorite}><FontAwesomeIcon icon={faHeart} /></div> )}\n         <h2 className = {style.cardId}>{props.id}</h2>\n         <img src={props.image} alt='' />\n         <h2>{props.name}</h2>\n         <Link to={`/detail/${props.id}`} state={{ background: pathname }}><div className={style.cardLink}><FontAwesomeIcon icon={faBarcode} /></div></Link>\n         \n      </div>\n   );\n}\n\n/*export function mapDispatchToProps(dispatch) {\n   return {\n      addFav: (personaje) => dispatch(addFav(personaje)),\n      removeFav: (id) => dispatch(removeFav(id))\n   }\n}\n\nexport function mapStateToProps(state) {\n   return {\n      myFavorites: state.myFavorites,\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Card);*/\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}